{"version":3,"sources":["components/Page.js","components/Label.js","components/widgets/WidgetPositions/constants.js","components/widgets/WidgetPositions/ValidationPopup.js","components/alerts/hook.js","components/widgets/WidgetPositions/services.js","components/widgets/WidgetPositions/ModeSelector.js","components/widgets/WidgetPositions/PositionRow.js","components/widgets/WidgetPositions/WidgetPositions.js","components/widgets/WidgetOrder.js","pages/Overview.js"],"names":["Page","forwardRef","ref","children","title","meta","other","propTypes","PropTypes","node","isRequired","string","RootStyle","styled","theme","ownerState","isLight","palette","mode","color","variant","height","minWidth","lineHeight","borderRadius","cursor","alignItems","whiteSpace","display","justifyContent","padding","spacing","grey","fontSize","typography","pxToRem","fontFamily","backgroundColor","fontWeight","fontWeightBold","contrastText","main","styleFilled","border","styleOutlined","alpha","styleGhost","text","primary","secondary","common","white","Label","MODES","NORMAL","label","value","GRACEFUL_STOP","EXIT_ONLY","MANUAL","PANIC","requiresValidation","WIGGLE","Transition","React","props","Slide","direction","ValidationPopup","open","onConfirm","onClose","Dialog","TransitionComponent","keepMounted","DialogTitle","DialogContent","DialogContentText","id","DialogActions","Button","onClick","useNotification","useState","conf","setConf","useSnackbar","enqueueSnackbar","closeSnackbar","useEffect","msg","autoHideDuration","action","key","IconButton","anchorOrigin","vertical","horizontal","setModeOnServer","requestedMode","previousMode","symbol","position_side","setMode","sendNotification","axios","post","then","response","catch","err","ModeSelector","currentMode","setPreviousMode","openConfirmation","setOpenConfirmation","FormControl","sx","size","Select","onChange","event","target","Object","values","map","m","MenuItem","PositionRow","side","positionSides","useTheme","open_orders","useRecoilValue","dataAtom","setOpen","cost","entry_price","position_size","current_price","pnl_abs","pnl_pct","symbolOpenOrders","filter","order","dca_number","order_type_identifier","length","tp_number","TableRow","TableCell","Stack","Typography","fPercent","style","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","margin","Table","TableHead","align","TableBody","sort","order1","order2","price","quantity","type","component","scope","order_id","cancelOrderOnServer","WidgetPositions","showInactivePositions","setShowInactivePositions","positions","Card","CardHeader","mb","Switch","checked","e","inputProps","Scrollbar","TableContainer","keys","isEmpty","WidgetOrder","latest_orders","CardContent","Timeline","index","OrderItem","isLast","event_time","TimelineItem","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","fDateTime","OverviewPage","themeStretch","useSettings","Container","maxWidth","Grid","container","item","xs","md","lg"],"mappings":"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","file":"static/js/4.5270ebae.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\nimport { Helmet } from \"react-helmet-async\";\nimport { forwardRef } from \"react\";\n// @mui\nimport { Box } from \"@mui/material\";\n\n// ----------------------------------------------------------------------\n\nconst Page = forwardRef(({ children, title = \"\", meta, ...other }, ref) => (\n  <>\n    <Helmet>\n      <title>{`${title} | Hawkbot`}</title>\n      {meta}\n    </Helmet>\n\n    <Box ref={ref} {...other}>\n      {children}\n    </Box>\n  </>\n));\n\nPage.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string,\n  meta: PropTypes.node,\n};\n\nexport default Page;\n","import PropTypes from \"prop-types\";\n// @mui\nimport { alpha, styled } from \"@mui/material/styles\";\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled(\"span\")(({ theme, ownerState }) => {\n  const isLight = theme.palette.mode === \"light\";\n  const { color, variant } = ownerState;\n\n  const styleFilled = (color) => ({\n    color: theme.palette[color].contrastText,\n    backgroundColor: theme.palette[color].main,\n  });\n\n  const styleOutlined = (color) => ({\n    color: theme.palette[color].main,\n    backgroundColor: \"transparent\",\n    border: `1px solid ${theme.palette[color].main}`,\n  });\n\n  const styleGhost = (color) => ({\n    color: theme.palette[color][isLight ? \"dark\" : \"light\"],\n    backgroundColor: alpha(theme.palette[color].main, 0.16),\n  });\n\n  return {\n    height: 22,\n    minWidth: 22,\n    lineHeight: 0,\n    borderRadius: 8,\n    cursor: \"default\",\n    alignItems: \"center\",\n    whiteSpace: \"nowrap\",\n    display: \"inline-flex\",\n    justifyContent: \"center\",\n    padding: theme.spacing(0, 1),\n    color: theme.palette.grey[800],\n    fontSize: theme.typography.pxToRem(12),\n    fontFamily: theme.typography.fontFamily,\n    backgroundColor: theme.palette.grey[300],\n    fontWeight: theme.typography.fontWeightBold,\n\n    ...(color !== \"default\"\n      ? {\n          ...(variant === \"filled\" && { ...styleFilled(color) }),\n          ...(variant === \"outlined\" && { ...styleOutlined(color) }),\n          ...(variant === \"ghost\" && { ...styleGhost(color) }),\n        }\n      : {\n          ...(variant === \"outlined\" && {\n            backgroundColor: \"transparent\",\n            color: theme.palette.text.primary,\n            border: `1px solid ${theme.palette.grey[500_32]}`,\n          }),\n          ...(variant === \"ghost\" && {\n            color: isLight ? theme.palette.text.secondary : theme.palette.common.white,\n            backgroundColor: theme.palette.grey[500_16],\n          }),\n        }),\n  };\n});\n\n// ----------------------------------------------------------------------\n\nLabel.propTypes = {\n  children: PropTypes.node,\n  color: PropTypes.oneOf([\"default\", \"primary\", \"secondary\", \"info\", \"success\", \"warning\", \"error\"]),\n  variant: PropTypes.oneOf([\"filled\", \"outlined\", \"ghost\"]),\n};\n\nexport default function Label({ color = \"default\", variant = \"ghost\", children, ...other }) {\n  return (\n    <RootStyle ownerState={{ color, variant }} {...other}>\n      {children}\n    </RootStyle>\n  );\n}\n","export const MODES = {\n  NORMAL: {\n    label: \"NORMAL\",\n    value: \"NORMAL\",\n  },\n  GRACEFUL_STOP: {\n    label: \"GRACEFUL\",\n    value: \"GRACEFUL_STOP\",\n  },\n  EXIT_ONLY: {\n    label: \"EXIT_ONLY\",\n    value: \"EXIT_ONLY\",\n  },\n  MANUAL: {\n    label: \"MANUAL\",\n    value: \"MANUAL\",\n  },\n  PANIC: {\n    label: \"PANIC\",\n    value: \"PANIC\",\n    requiresValidation: true,\n  },\n  WIGGLE: {\n    label: \"WIGGLE\",\n    value: \"WIGGLE\",\n  },\n};\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport Slide from \"@mui/material/Slide\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ValidationPopup({ open, onConfirm, mode, onClose }) {\n  return (\n    <>\n      <Dialog\n        open={open}\n        onClose={onClose}\n        TransitionComponent={Transition}\n        keepMounted\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle>Warning regarding {mode} mode</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-slide-description\">\n            This mode will sell your position with a MARKET order.\n          </DialogContentText>\n        </DialogContent>\n\n        <DialogActions>\n          <Button variant=\"contained\" onClick={onConfirm}>\n            Confirm\n          </Button>\n          <Button variant=\"outlined\" onClick={onClose}>\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport IconButton from \"@mui/material/IconButton\";\nimport CloseIcon from \"@mui/material/SvgIcon/SvgIcon\";\n\nconst useNotification = () => {\n  const [conf, setConf] = useState({});\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    if (conf?.msg) {\n      let variant = \"info\";\n      if (conf.variant) {\n        variant = conf.variant;\n      }\n\n      enqueueSnackbar(conf.msg, {\n        variant: variant,\n        autoHideDuration: 5000,\n        action: (key) => {\n          return (\n            <Fragment>\n              <IconButton\n                onClick={() => {\n                  closeSnackbar(key);\n                }}\n              >\n                <CloseIcon />\n              </IconButton>\n            </Fragment>\n          );\n        },\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        },\n      });\n    }\n  }, [conf, enqueueSnackbar, closeSnackbar]);\n  return [setConf];\n};\n\nexport default useNotification;\n","import axios from \"axios\";\n\nconst SET_MODE_URL = \"http://localhost:6969/setMode\";\nconst CANCEL_ORDER_URL = \"http://localhost:6969/cancelOrder\";\n\nexport const setModeOnServer = (requestedMode, previousMode, symbol, position_side, setMode, sendNotification) => {\n  axios\n    .post(SET_MODE_URL, {\n      symbol,\n      mode: requestedMode,\n      position_side,\n    })\n    .then((response) => {\n      sendNotification({\n        msg: `Your mode was correctly set to ${requestedMode} for ${symbol} ${position_side}`,\n        variant: \"success\",\n      });\n    })\n    .catch((err) => {\n      sendNotification({\n        msg: `Something wrong happened when setting ${symbol} ${position_side} to ${requestedMode}`,\n        variant: \"error\",\n      });\n      setMode(previousMode);\n    });\n};\n\nexport const cancelOrderOnServer = (symbol, order_id, sendNotification) => {\n  axios\n    .post(CANCEL_ORDER_URL, {\n      symbol,\n      order_id,\n    })\n    .then((response) => {\n      sendNotification({\n        msg: `Your order ${order_id} for ${symbol} was cancelled`,\n        variant: \"success\",\n      });\n    })\n    .catch((err) => {\n      sendNotification({\n        msg: `Something wrong happened when cancelling order ${order_id} for ${symbol}`,\n        variant: \"error\",\n      });\n    });\n};\n","import React, { useState } from \"react\";\n\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select from \"@mui/material/Select\";\n\nimport { MODES } from \"./constants\";\nimport ValidationPopup from \"./ValidationPopup\";\nimport useNotification from \"src/components/alerts/hook\";\nimport { setModeOnServer } from \"./services\";\n\nexport default function ModeSelector({ currentMode, symbol, position_side }) {\n  const [mode, setMode] = useState(currentMode);\n  const [previousMode, setPreviousMode] = useState(currentMode);\n  const [openConfirmation, setOpenConfirmation] = useState(false);\n\n  const [sendNotification] = useNotification();\n\n  const handleChange = (event) => {\n    const requestedMode = event.target.value;\n\n    setPreviousMode(mode);\n    setMode(requestedMode);\n\n    if (MODES[requestedMode]?.requiresValidation) {\n      setOpenConfirmation(true);\n    } else {\n      setModeOnServer(requestedMode, previousMode, symbol, position_side, setMode, sendNotification);\n    }\n  };\n\n  const onConfirm = () => {\n    setModeOnServer(mode, previousMode, symbol, position_side, setMode, sendNotification);\n    setOpenConfirmation(false);\n  };\n\n  const onCloseConfirmation = () => {\n    setOpenConfirmation(false);\n    setMode(previousMode);\n  };\n\n  return (\n    <>\n      <FormControl sx={{ minWidth: 125 }} size=\"small\">\n        <Select value={MODES[mode]?.value} onChange={handleChange}>\n          {Object.values(MODES).map((m) => (\n            <MenuItem key={m.value} value={m.value}>\n              {m.label}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n\n      <ValidationPopup open={openConfirmation} onConfirm={onConfirm} onClose={onCloseConfirmation} mode={mode} />\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useTheme } from \"@mui/material/styles\";\n\nimport {\n  Box,\n  Button,\n  Collapse,\n  IconButton,\n  Stack,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@mui/material\";\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport KeyboardArrowUpIcon from \"@mui/icons-material/KeyboardArrowUp\";\n\nimport { useRecoilValue } from \"recoil\";\nimport Label from \"src/components/Label\";\nimport { dataAtom } from \"src/recoil/atoms\";\nimport ModeSelector from \"./ModeSelector\";\nimport { cancelOrderOnServer } from \"./services\";\nimport useNotification from \"src/components/alerts/hook\";\nimport { fPercent } from \"src/utils/formatNumber\";\n\nconst PositionRow = ({ symbol, side, positionSides }) => {\n  const theme = useTheme();\n  const isLight = theme.palette.mode === \"light\";\n\n  const [sendNotification] = useNotification();\n  const { open_orders } = useRecoilValue(dataAtom);\n  const [open, setOpen] = useState(false);\n\n  const { cost, entry_price, position_size, current_price, mode, pnl_abs, pnl_pct } =\n    positionSides && positionSides[side];\n  const symbolOpenOrders = open_orders[symbol].filter((order) => order?.position_side === side);\n  const dca_number = symbolOpenOrders.filter((order) => order?.order_type_identifier === \"DCA\").length;\n  const tp_number = symbolOpenOrders.filter((order) => order?.order_type_identifier === \"TP\").length;\n\n  return (\n    <>\n      <TableRow>\n        <TableCell>\n          <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n          </IconButton>\n        </TableCell>\n\n        <TableCell>\n          <Stack direction=\"row\" alignItems=\"center\" spacing={2}>\n            <Typography color={side === \"LONG\" ? \"#54D62C\" : \"error\"} variant=\"subtitle2\">\n              {symbol}\n            </Typography>\n          </Stack>\n        </TableCell>\n\n        <TableCell>{cost}</TableCell>\n        <TableCell>{position_size}</TableCell>\n        <TableCell>{entry_price}</TableCell>\n        <TableCell>{current_price}</TableCell>\n        <TableCell>\n          <Typography color={pnl_abs <= 0 ? \"error\" : \"#54D62C\"} variant=\"inherit\">\n            {pnl_abs} {fPercent(pnl_pct)}\n          </Typography>\n        </TableCell>\n\n        <TableCell>\n          <Label variant={isLight ? \"ghost\" : \"filled\"}>{tp_number}</Label>\n        </TableCell>\n        <TableCell>\n          <Label\n            variant={isLight ? \"ghost\" : \"filled\"}\n            color={dca_number > 1 || position_size < 1 ? \"default\" : dca_number === 1 ? \"warning\" : \"error\"}\n          >\n            {dca_number}\n          </Label>\n        </TableCell>\n        <TableCell>\n          <ModeSelector currentMode={mode} symbol={symbol} position_side={side} />\n        </TableCell>\n      </TableRow>\n\n      {/* Table for the Open Orders */}\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={9}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <Box sx={{ margin: 0 }}>\n              <Table size=\"small\" aria-label=\"purchases\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Open Order Type</TableCell>\n                    <TableCell>Cost</TableCell>\n                    <TableCell align=\"right\">Price</TableCell>\n                    <TableCell align=\"right\">Quantity</TableCell>\n                    <TableCell align=\"right\">Type</TableCell>\n                    <TableCell align=\"right\">Side</TableCell>\n                    <TableCell align=\"right\">Action</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {symbolOpenOrders\n                    .sort((order1, order2) => order2.price - order1.price)\n                    .map(({ id, order_type_identifier, quantity, side, type, cost, price }) => (\n                      <TableRow key={id}>\n                        <TableCell component=\"th\" scope=\"row\">\n                          {order_type_identifier}\n                        </TableCell>\n                        <TableCell>{cost}</TableCell>\n                        <TableCell align=\"right\">{price}</TableCell>\n                        <TableCell align=\"right\">{quantity}</TableCell>\n                        <TableCell align=\"right\">{type}</TableCell>\n                        <TableCell align=\"right\">\n                          <Typography color={side === \"BUY\" ? \"#54D62C\" : \"error\"} variant=\"subtitle2\">\n                            {side}\n                          </Typography>\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          <Button variant=\"text\" onClick={() => cancelOrderOnServer(symbol, id, sendNotification)}>\n                            Cancel\n                          </Button>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                </TableBody>\n              </Table>\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </>\n  );\n};\n\nexport default PositionRow;\n","// @mui\nimport {\n  Card,\n  Table,\n  TableRow,\n  TableBody,\n  TableCell,\n  TableHead,\n  CardHeader,\n  TableContainer,\n  Switch,\n  Stack,\n  Typography,\n} from \"@mui/material\";\n\n// Components\nimport Scrollbar from \"../../Scrollbar\";\nimport { useRecoilValue } from \"recoil\";\nimport { dataAtom } from \"src/recoil/atoms\";\nimport PositionRow from \"./PositionRow\";\nimport { useState } from \"react\";\nimport { isEmpty } from \"lodash\";\n\n// ----------------------------------------------------------------------\n\nexport default function WidgetPositions() {\n  const [showInactivePositions, setShowInactivePositions] = useState(true);\n  const { positions } = useRecoilValue(dataAtom);\n\n  return (\n    <>\n      <Card>\n        <CardHeader\n          title=\"Positions\"\n          sx={{ mb: 1 }}\n          action={\n            <Stack direction=\"row\" alignItems=\"center\">\n              <Switch\n                size=\"small\"\n                checked={showInactivePositions}\n                onChange={(e) => setShowInactivePositions(e.target.checked)}\n                inputProps={{ \"aria-label\": \"controlled\" }}\n              />\n              <Typography variant=\"subtitle2\">Show inactive positions</Typography>\n            </Stack>\n          }\n        />\n\n        <Scrollbar>\n          <TableContainer sx={{ minWidth: 720 }}>\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  {/* For the arrow */}\n                  <TableCell />\n\n                  <TableCell sx={{ minWidth: 40 }}>Symbol</TableCell>\n                  <TableCell sx={{ minWidth: 40 }}>Cost</TableCell>\n                  <TableCell sx={{ minWidth: 40 }}>Size</TableCell>\n                  <TableCell sx={{ minWidth: 40 }}>Position price</TableCell>\n                  <TableCell sx={{ minWidth: 40 }}>Current price</TableCell>\n                  <TableCell sx={{ minWidth: 40 }}>PnL</TableCell>\n                  <TableCell sx={{ minWidth: 20 }}>TP</TableCell>\n                  <TableCell sx={{ minWidth: 20 }}>DCA</TableCell>\n                  <TableCell sx={{ minWidth: 40 }}>Mode</TableCell>\n                </TableRow>\n              </TableHead>\n\n              <TableBody>\n                {Object.keys(positions).map((symbol) => {\n                  const positionSides = positions[symbol];\n\n                  return Object.keys(positionSides).map((side) => {\n                    // If switched off, don't display inactive positions\n                    if (!showInactivePositions && isEmpty(positionSides[side].position_size)) {\n                      return null;\n                    }\n\n                    return (\n                      <PositionRow\n                        key={`${symbol}_${side}`}\n                        symbol={symbol}\n                        side={side}\n                        positionSides={positionSides}\n                      />\n                    );\n                  });\n                })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Scrollbar>\n      </Card>\n    </>\n  );\n}\n","// @mui\nimport { Card, Typography, CardHeader, CardContent, Stack } from \"@mui/material\";\nimport {\n  Timeline,\n  TimelineDot,\n  TimelineItem,\n  TimelineContent,\n  TimelineSeparator,\n  TimelineConnector,\n} from \"@mui/lab\";\n// utils\nimport { fDateTime } from \"../../utils/formatTime\";\nimport { useRecoilValue } from \"recoil\";\nimport { dataAtom } from \"src/recoil/atoms\";\n\n// ----------------------------------------------------------------------\n\nexport default function WidgetOrder() {\n  const { latest_orders } = useRecoilValue(dataAtom);\n\n  return (\n    <Card\n      sx={{\n        \"& .MuiTimelineItem-missingOppositeContent:before\": {\n          display: \"none\",\n        },\n      }}\n    >\n      <CardHeader title=\"Latest orders\" />\n      <CardContent>\n        <Timeline>\n          {latest_orders.map((order, index) => (\n            <OrderItem key={order.id} order={order} isLast={index === latest_orders.length - 1} />\n          ))}\n        </Timeline>\n      </CardContent>\n    </Card>\n  );\n}\n\n// ----------------------------------------------------------------------\n\nfunction OrderItem({ order, isLast }) {\n  const { event_time, order_type_identifier, position_side, quantity, symbol } = order;\n\n  return (\n    <TimelineItem>\n      <TimelineSeparator>\n        <TimelineDot\n          color={\n            (order_type_identifier === \"TP_REFILL\" && \"warning\") ||\n            (order_type_identifier === \"TP\" && \"success\") ||\n            (order_type_identifier === \"INITIAL_ENTRY\" && \"info\") ||\n            \"error\"\n          }\n        />\n        {isLast ? null : <TimelineConnector />}\n      </TimelineSeparator>\n      <TimelineContent>\n        <Stack direction=\"row\" spacing={0.5}>\n          <Typography display=\"inline\" variant=\"subtitle2\">\n            {order_type_identifier}\n          </Typography>\n          <Typography display=\"inline\" variant=\"subtitle2\" color={position_side === \"LONG\" ? \"#54D62C\" : \"error\"}>\n            {symbol}\n          </Typography>\n          <Typography display=\"inline\" variant=\"subtitle2\">\n            {quantity}\n          </Typography>\n        </Stack>\n\n        <Typography display=\"block\" variant=\"caption\" sx={{ color: \"text.secondary\" }}>\n          {fDateTime(event_time)}\n        </Typography>\n      </TimelineContent>\n    </TimelineItem>\n  );\n}\n","// @mui\nimport { Container, Grid } from \"@mui/material\";\n\n// hooks\nimport useSettings from \"../hooks/useSettings\";\n// components\nimport Page from \"../components/Page\";\nimport WidgetPositions from \"src/components/widgets/WidgetPositions/WidgetPositions\";\nimport WidgetOrder from \"src/components/widgets/WidgetOrder\";\n\n// ----------------------------------------------------------------------\n\nexport default function OverviewPage() {\n  const { themeStretch } = useSettings();\n\n  return (\n    <Page title=\"Overview\">\n      <Container maxWidth={themeStretch ? false : \"xl\"}>\n        <Grid container spacing={3}>\n          <Grid item xs={9}>\n            <WidgetPositions />\n          </Grid>\n\n          <Grid item xs={6} md={6} lg={2.8}>\n            <WidgetOrder />\n          </Grid>\n        </Grid>\n      </Container>\n    </Page>\n  );\n}\n"],"sourceRoot":""}
(this["webpackJsonphawkbot-frontend"]=this["webpackJsonphawkbot-frontend"]||[]).push([[4],{514:function(e,t,n){"use strict";var i=n(3),c=n(31),r=n(6),a=n.n(r),o=n(232),s=n(0),l=n(442),j=n(1),d=["children","title","meta"],b=Object(s.forwardRef)((function(e,t){var n=e.children,r=e.title,a=void 0===r?"":r,s=e.meta,b=Object(c.a)(e,d);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(o.a,{children:[Object(j.jsx)("title",{children:"".concat(a," | Hawkbot")}),s]}),Object(j.jsx)(l.a,Object(i.a)(Object(i.a)({ref:t},b),{},{children:n}))]})}));b.propTypes={children:a.a.node.isRequired,title:a.a.string,meta:a.a.node},t.a=b},560:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ke}));var i=n(505),c=n(487),r=n(38),a=n(514),o=n(7),s=n(572),l=n(573),j=n(472),d=n(574),b=n(172),h=n(575),O=n(569),u=n(570),x=n(568),p=n(567),g=n(571),m=n(146),f=n(43),v=n(79),y=n(0),C=n.n(y),_=n(52),w=n(496),k=n(492),L=n(442),S=n(488),T=n(529),A=n.n(T),I=n(528),W=n.n(I),E=n(31),M=n(3),N=n(8),R=n(65),P=n(1),z=["color","variant","children"],F=Object(N.a)("span")((function(e){var t=e.theme,n=e.ownerState,i="light"===t.palette.mode,c=n.color,r=n.variant;return Object(M.a)({height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:t.spacing(0,1),color:t.palette.grey[800],fontSize:t.typography.pxToRem(12),fontFamily:t.typography.fontFamily,backgroundColor:t.palette.grey[300],fontWeight:t.typography.fontWeightBold},"default"!==c?Object(M.a)(Object(M.a)(Object(M.a)({},"filled"===r&&Object(M.a)({},function(e){return{color:t.palette[e].contrastText,backgroundColor:t.palette[e].main}}(c))),"outlined"===r&&Object(M.a)({},function(e){return{color:t.palette[e].main,backgroundColor:"transparent",border:"1px solid ".concat(t.palette[e].main)}}(c))),"ghost"===r&&Object(M.a)({},function(e){return{color:t.palette[e][i?"dark":"light"],backgroundColor:Object(R.a)(t.palette[e].main,.16)}}(c))):Object(M.a)(Object(M.a)({},"outlined"===r&&{backgroundColor:"transparent",color:t.palette.text.primary,border:"1px solid ".concat(t.palette.grey[50032])}),"ghost"===r&&{color:i?t.palette.text.secondary:t.palette.common.white,backgroundColor:t.palette.grey[50016]}))}));function G(e){var t=e.color,n=void 0===t?"default":t,i=e.variant,c=void 0===i?"ghost":i,r=e.children,a=Object(E.a)(e,z);return Object(P.jsx)(F,Object(M.a)(Object(M.a)({ownerState:{color:n,variant:c}},a),{},{children:r}))}var D=n(566),U=n(565),Y=n(558),q={NORMAL:{label:"NORMAL",value:"NORMAL"},GRACEFUL_STOP:{label:"GRACEFUL",value:"GRACEFUL_STOP"},EXIT_ONLY:{label:"EXIT_ONLY",value:"EXIT_ONLY"},MANUAL:{label:"MANUAL",value:"MANUAL"},PANIC:{label:"PANIC",value:"PANIC",requiresValidation:!0},WIGGLE:{label:"WIGGLE",value:"WIGGLE"}},B=n(493),H=n(564),X=n(562),J=n(563),K=n(553),V=n(475),Q=C.a.forwardRef((function(e,t){return Object(P.jsx)(V.a,Object(M.a)({direction:"up",ref:t},e))}));function Z(e){var t=e.open,n=e.onConfirm,i=e.mode,c=e.onClose;return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(B.a,{open:t,onClose:c,TransitionComponent:Q,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[Object(P.jsxs)(K.a,{children:["Warning regarding ",i," mode"]}),Object(P.jsx)(X.a,{children:Object(P.jsx)(J.a,{id:"alert-dialog-slide-description",children:"This mode will sell your position with a MARKET order."})}),Object(P.jsxs)(H.a,{children:[Object(P.jsx)(S.a,{variant:"contained",onClick:n,children:"Confirm"}),Object(P.jsx)(S.a,{variant:"outlined",onClick:c,children:"Cancel"})]})]})})}var $=n(295),ee=n(316),te=function(){var e=Object(y.useState)({}),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object($.b)(),r=c.enqueueSnackbar,a=c.closeSnackbar;return Object(y.useEffect)((function(){if(null!==n&&void 0!==n&&n.msg){var e="info";n.variant&&(e=n.variant),r(n.msg,{variant:e,autoHideDuration:5e3,action:function(e){return Object(P.jsx)(y.Fragment,{children:Object(P.jsx)(w.a,{onClick:function(){a(e)},children:Object(P.jsx)(ee.a,{})})})},anchorOrigin:{vertical:"bottom",horizontal:"center"}})}}),[n,r,a]),[i]},ne=n(285),ie=n.n(ne),ce=function(e,t,n,i,c,r){ie.a.post("http://localhost:6969/setMode",{symbol:n,mode:e,position_side:i}).then((function(t){r({msg:"Your mode was correctly set to ".concat(e," for ").concat(n," ").concat(i),variant:"success"})})).catch((function(a){r({msg:"Something wrong happened when setting ".concat(n," ").concat(i," to ").concat(e),variant:"error"}),c(t)}))};function re(e){var t,n=e.currentMode,i=e.symbol,c=e.position_side,r=Object(y.useState)(n),a=Object(o.a)(r,2),s=a[0],l=a[1],j=Object(y.useState)(n),d=Object(o.a)(j,2),b=d[0],h=d[1],O=Object(y.useState)(!1),u=Object(o.a)(O,2),x=u[0],p=u[1],g=te(),m=Object(o.a)(g,1)[0];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(U.a,{sx:{minWidth:125},size:"small",children:Object(P.jsx)(Y.a,{value:null===(t=q[s])||void 0===t?void 0:t.value,onChange:function(e){var t,n=e.target.value;h(s),l(n),null!==(t=q[n])&&void 0!==t&&t.requiresValidation?p(!0):ce(n,b,i,c,l,m)},children:Object.values(q).map((function(e){return Object(P.jsx)(D.a,{value:e.value,children:e.label},e.value)}))})}),Object(P.jsx)(Z,{open:x,onConfirm:function(){ce(s,b,i,c,l,m),p(!1)},onClose:function(){p(!1),l(b)},mode:s})]})}var ae=n(489),oe=n(508),se=n(484),le=n(527),je=n.n(le),de=n(522),be=function(e){var t=e.symbol,n=e.position_side,i=e.position_size,c=te(),r=Object(o.a)(c,1)[0],a=Object(y.useState)(null),s=Object(o.a)(a,2),l=s[0],j=s[1],d=Object(y.useState)(!1),b=Object(o.a)(d,2),h=b[0],O=b[1],u=null===l,x=function(){j(null),O(!1)};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(w.a,{"aria-label":"close",size:"small",onClick:function(){return O(!0)},disabled:Object(de.isEmpty)(i),children:Object(P.jsx)(je.a,{fontSize:"small"})}),Object(P.jsxs)(B.a,{open:h,onClose:x,TransitionComponent:he,keepMounted:!0,"aria-describedby":"alert-dialog-slide-close-position",children:[Object(P.jsx)(K.a,{children:"Order type selection"}),Object(P.jsxs)(X.a,{children:[Object(P.jsxs)(J.a,{id:"alert-dialog-slide-description",children:["Choose the order type for closing your ",t," ",n," position"]}),Object(P.jsx)(U.a,{children:Object(P.jsxs)(ae.a,{row:!0,"aria-labelledby":"ordertype-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:l,onChange:function(e){j(e.target.value)},children:[Object(P.jsx)(oe.a,{value:"LIMIT",control:Object(P.jsx)(se.a,{}),label:"Limit"}),Object(P.jsx)(oe.a,{value:"MARKET",control:Object(P.jsx)(se.a,{}),label:"Market"})]})})]}),Object(P.jsxs)(H.a,{children:[Object(P.jsx)(S.a,{variant:"contained",disabled:u,onClick:function(){!function(e,t,n,i){ie.a.post("http://localhost:6969/closePosition",{symbol:e,position_side:t,orderType:n}).then((function(c){i({msg:"A ".concat(n," close for ").concat(e," ").concat(t," was sent"),variant:"success"})})).catch((function(c){i({msg:"Something wrong happened when trying to ".concat(n," close for ").concat(e," ").concat(t),variant:"error"})}))}(t,n,l,r),x()},children:"Close position"}),Object(P.jsx)(S.a,{variant:"outlined",onClick:x,children:"Cancel"})]})]})]})},he=C.a.forwardRef((function(e,t){return Object(P.jsx)(V.a,Object(M.a)({direction:"up",ref:t},e))})),Oe=function(e){var t=e.symbol,n=e.side,i=e.positionSides,c="light"===Object(_.a)().palette.mode,r=te(),a=Object(o.a)(r,1)[0],s=Object(f.c)(v.a).open_orders,l=Object(y.useState)(!1),d=Object(o.a)(l,2),h=d[0],m=d[1],C=i&&i[n],T=C.cost,I=C.entry_price,E=C.position_size,M=C.current_price,N=C.mode,R=C.pnl_abs,z=C.pnl_pct,F=s[t].filter((function(e){return(null===e||void 0===e?void 0:e.position_side)===n})),D=F.filter((function(e){return"DCA"===(null===e||void 0===e?void 0:e.order_type_identifier)})).length,U=F.filter((function(e){return"TP"===(null===e||void 0===e?void 0:e.order_type_identifier)})).length,Y=function(e){var t=e.children;return Object(P.jsx)(p.a,{onClick:function(){return m(!h)},sx:{cursor:"pointer"},children:t})};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(x.a,{children:[Object(P.jsx)(p.a,{children:Object(P.jsx)(w.a,{"aria-label":"expand row",size:"small",onClick:function(){return m(!h)},children:h?Object(P.jsx)(W.a,{}):Object(P.jsx)(A.a,{})})}),Object(P.jsx)(Y,{children:Object(P.jsx)(j.a,{direction:"row",alignItems:"center",spacing:2,children:Object(P.jsx)(b.a,{color:"LONG"===n?"#54D62C":"error",variant:"subtitle2",children:t})})}),Object(P.jsx)(Y,{children:T}),Object(P.jsx)(Y,{children:E}),Object(P.jsx)(Y,{children:I}),Object(P.jsx)(Y,{children:M}),Object(P.jsx)(Y,{children:Object(P.jsxs)(b.a,{color:R<0?"error":"#54D62C",variant:"inherit",children:[R," ",z]})}),Object(P.jsx)(Y,{children:Object(P.jsx)(G,{variant:c?"ghost":"filled",children:U})}),Object(P.jsx)(Y,{children:Object(P.jsx)(G,{variant:c?"ghost":"filled",color:D>1||E<1?"default":1===D?"warning":"error",children:D})}),Object(P.jsx)(p.a,{children:Object(P.jsx)(re,{currentMode:N,symbol:t,position_side:n})}),Object(P.jsx)(p.a,{align:"right",children:Object(P.jsx)(be,{symbol:t,position_side:n,position_size:E})})]}),Object(P.jsx)(x.a,{children:Object(P.jsx)(p.a,{style:{paddingBottom:0,paddingTop:0},colSpan:9,children:Object(P.jsx)(k.a,{in:h,timeout:"auto",unmountOnExit:!0,children:Object(P.jsx)(L.a,{sx:{margin:0},children:Object(P.jsxs)(O.a,{size:"small","aria-label":"purchases",children:[Object(P.jsx)(u.a,{children:Object(P.jsxs)(x.a,{children:[Object(P.jsx)(p.a,{children:"Open Order Type"}),Object(P.jsx)(p.a,{children:"Cost"}),Object(P.jsx)(p.a,{align:"right",children:"Price"}),Object(P.jsx)(p.a,{align:"right",children:"Quantity"}),Object(P.jsx)(p.a,{align:"right",children:"Type"}),Object(P.jsx)(p.a,{align:"right",children:"Side"}),Object(P.jsx)(p.a,{align:"right",children:"Action"})]})}),Object(P.jsx)(g.a,{children:F.sort((function(e,t){return t.price-e.price})).map((function(e){var n=e.id,i=e.order_type_identifier,c=e.quantity,r=e.side,o=e.type,s=e.cost,l=e.price;return Object(P.jsxs)(x.a,{children:[Object(P.jsx)(p.a,{component:"th",scope:"row",children:i}),Object(P.jsx)(p.a,{children:s}),Object(P.jsx)(p.a,{align:"right",children:l}),Object(P.jsx)(p.a,{align:"right",children:c}),Object(P.jsx)(p.a,{align:"right",children:o}),Object(P.jsx)(p.a,{align:"right",children:Object(P.jsx)(b.a,{color:"BUY"===r?"#54D62C":"error",variant:"subtitle2",children:r})}),Object(P.jsx)(p.a,{align:"right",children:Object(P.jsx)(S.a,{variant:"text",onClick:function(){return function(e,t,n){ie.a.post("http://localhost:6969/cancelOrder",{symbol:e,order_id:t}).then((function(i){n({msg:"Your order ".concat(t," for ").concat(e," was cancelled"),variant:"success"})})).catch((function(i){n({msg:"Something wrong happened when cancelling order ".concat(t," for ").concat(e),variant:"error"})}))}(t,n,a)},children:"Cancel"})})]},n)}))})]})})})})})]})};function ue(){var e=Object(y.useState)(!0),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(f.c)(v.a).positions;return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(s.a,{children:[Object(P.jsx)(l.a,{title:"Positions",sx:{mb:1},action:Object(P.jsxs)(j.a,{direction:"row",alignItems:"center",children:[Object(P.jsx)(d.a,{size:"small",checked:n,onChange:function(e){return i(e.target.checked)},inputProps:{"aria-label":"controlled"}}),Object(P.jsx)(b.a,{variant:"subtitle2",children:"Show inactive positions"})]})}),Object(P.jsx)(m.a,{children:Object(P.jsx)(h.a,{sx:{minWidth:720},children:Object(P.jsxs)(O.a,{size:"small",children:[Object(P.jsx)(u.a,{children:Object(P.jsxs)(x.a,{children:[Object(P.jsx)(p.a,{}),Object(P.jsx)(p.a,{sx:{minWidth:40},children:"Symbol"}),Object(P.jsx)(p.a,{sx:{minWidth:40},children:"Cost"}),Object(P.jsx)(p.a,{sx:{minWidth:40},children:"Size"}),Object(P.jsx)(p.a,{sx:{minWidth:40},children:"Position price"}),Object(P.jsx)(p.a,{sx:{minWidth:40},children:"Current price"}),Object(P.jsx)(p.a,{sx:{minWidth:40},children:"PnL"}),Object(P.jsx)(p.a,{sx:{minWidth:20},children:"TP"}),Object(P.jsx)(p.a,{sx:{minWidth:20},children:"DCA"}),Object(P.jsx)(p.a,{sx:{minWidth:40},children:"Mode"}),Object(P.jsx)(p.a,{sx:{minWidth:20},children:"Close"})]})}),Object(P.jsx)(g.a,{children:Object.keys(c).map((function(e){var t=c[e];return Object.keys(t).map((function(i){return!n&&Object(de.isEmpty)(t[i].position_size)?null:Object(P.jsx)(Oe,{symbol:e,side:i,positionSides:t},"".concat(e,"_").concat(i))}))}))})]})})})]})})}var xe=n(576),pe=n(577),ge=n(561),me=n(578),fe=n(579),ve=n(580),ye=n(556),Ce=n(254);function _e(){var e=Object(f.c)(v.a).latest_orders;return Object(P.jsxs)(s.a,{sx:{"& .MuiTimelineItem-missingOppositeContent:before":{display:"none"}},children:[Object(P.jsx)(l.a,{title:"Latest orders"}),Object(P.jsx)(xe.a,{children:Object(P.jsx)(pe.a,{children:e.filter((function(e){return"FILLED"===(null===e||void 0===e?void 0:e.status)})).map((function(t,n){return Object(P.jsx)(we,{order:t,isLast:n===e.length-1},t.id)}))})})]})}function we(e){var t=e.order,n=e.isLast,i=t.event_time,c=t.order_type_identifier,r=t.position_side,a=t.quantity,o=t.symbol;return Object(P.jsxs)(ge.a,{children:[Object(P.jsxs)(me.a,{children:[Object(P.jsx)(fe.a,{color:("TP_REFILL"===c?"warning":"TP"===c&&"success")||"INITIAL_ENTRY"===c&&"info"||"error"}),n?null:Object(P.jsx)(ve.a,{})]}),Object(P.jsxs)(ye.a,{children:[Object(P.jsxs)(j.a,{direction:"row",spacing:.5,children:[Object(P.jsx)(b.a,{display:"inline",variant:"subtitle2",children:c}),Object(P.jsx)(b.a,{display:"inline",variant:"subtitle2",color:"LONG"===r?"#54D62C":"error",children:o}),Object(P.jsx)(b.a,{display:"inline",variant:"subtitle2",children:a})]}),Object(P.jsx)(b.a,{display:"block",variant:"caption",sx:{color:"text.secondary"},children:Object(Ce.a)(i)})]})]})}function ke(){var e=Object(r.a)().themeStretch;return Object(P.jsx)(a.a,{title:"Overview",children:Object(P.jsx)(i.a,{maxWidth:!e&&"xl",children:Object(P.jsxs)(c.a,{container:!0,spacing:3,children:[Object(P.jsx)(c.a,{item:!0,xs:9,children:Object(P.jsx)(ue,{})}),Object(P.jsx)(c.a,{item:!0,xs:6,md:6,lg:2.8,children:Object(P.jsx)(_e,{})})]})})})}}}]);
//# sourceMappingURL=4.020bf5d9.chunk.js.map